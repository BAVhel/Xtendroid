package org.xtendroid.xtendroidtest.test;

import android.test.AndroidTestCase;
import android.test.suitebuilder.annotation.SmallTest;
import java.util.ArrayList;
import junit.framework.Assert;
import org.eclipse.xtend2.lib.StringConcatenation;
import org.eclipse.xtext.xbase.lib.Conversions;
import org.eclipse.xtext.xbase.lib.Exceptions;
import org.eclipse.xtext.xbase.lib.ExclusiveRange;
import org.json.JSONArray;
import org.json.JSONObject;
import org.xtendroid.xtendroidtest.models.NewsItem;

@SmallTest
@SuppressWarnings("all")
public class JsonTest extends AndroidTestCase {
  public void testJson() {
    try {
      StringConcatenation _builder = new StringConcatenation();
      _builder.append("{\"responseData\": {\"results\":[{\"GsearchResultClass\":\"GnewsSearch\",\"clusterUrl\":\"\",\"content\":\"A booming D.C. means more condos, and more condos translate to ever more confounding luxury building names. These run the gamut from the meaninglessly pretentious (think one-syllable club-like monikers) to the dazzlingly tone-deaf (the\\u0026nbsp;...\",\"unescapedUrl\":\"http://www.washingtoncitypaper.com/blogs/citydesk/2014/05/16/four-ways-of-the-condo/\",\"url\":\"http%3A%2F%2Fwww.washingtoncitypaper.com%2Fblogs%2Fcitydesk%2F2014%2F05%2F16%2Ffour-ways-of-the-condo%2F\",\"title\":\"\\u003cb\\u003eFour Ways\\u003c/b\\u003e of the Condo\",\"titleNoFormatting\":\"Four Ways of the Condo\",\"location\":\"\",\"publisher\":\"Washington City Paper (blog)\",\"publishedDate\":\"Fri, 16 May 2014 13:32:47 -0700\",\"signedRedirectUrl\":\"http://news.google.com/news/url?sa\\u003dT\\u0026ct2\\u003dus\\u0026fd\\u003dS\\u0026url\\u003dhttp://www.washingtoncitypaper.com/blogs/citydesk/2014/05/16/four-ways-of-the-condo/\\u0026cid\\u003d0\\u0026ei\\u003d_9h4U8D8FcaI8QPlyQE\\u0026usg\\u003dAFQjCNFAq8oHGFrjZavpzycYs7dLWQBvjg\",\"language\":\"en\",\"image\":{\"url\":\"http://www.washingtoncitypaper.com/blogs/citydesk/files/2014/05/news_brief_201.jpg\",\"tbUrl\":\"http://t2.gstatic.com/images?q\\u003dtbn:ANd9GcQ87Em5gIgoSxZ_3fda1u4JdaXZGAeyH4NXc4InYmaUqJa3zmjLpmtbVjTr\",\"originalContextUrl\":\"http://www.washingtoncitypaper.com/blogs/citydesk/2014/05/16/four-ways-of-the-condo/\",\"publisher\":\"Washington City Paper (blog)\",\"tbWidth\":55,\"tbHeight\":80}},{\"GsearchResultClass\":\"GnewsSearch\",\"clusterUrl\":\"http://news.google.com/news/story?ncl\\u003dd-9K8KFE-StVcEM4SuUHg2wh3H_9M\\u0026hl\\u003den\\u0026ned\\u003dus\",\"content\":\"Narendra Modi, a self-made politician who sold tea at train stations as a young man, appears to have led the Bharatiya Janata Party into a mammoth victory. For the first time in three decades, a single party has potential to occupy a majority of seats \\u003cb\\u003e...\\u003c/b\\u003e\",\"unescapedUrl\":\"http://qz.com/210276/four-ways-narendra-modi-just-dramatically-upended-indian-politics/\",\"url\":\"http%3A%2F%2Fqz.com%2F210276%2Ffour-ways-narendra-modi-just-dramatically-upended-indian-politics%2F\",\"title\":\"\\u003cb\\u003eFour ways\\u003c/b\\u003e Narendra Modi just dramatically upended Indian politics\",\"titleNoFormatting\":\"Four ways Narendra Modi just dramatically upended Indian politics\",\"location\":\"\",\"publisher\":\"Quartz\",\"publishedDate\":\"Fri, 16 May 2014 02:36:50 -0700\",\"signedRedirectUrl\":\"http://news.google.com/news/url?sa\\u003dT\\u0026ct2\\u003dus\\u0026fd\\u003dS\\u0026url\\u003dhttp://qz.com/210276/four-ways-narendra-modi-just-dramatically-upended-indian-politics/\\u0026cid\\u003d52778501729634\\u0026ei\\u003d_9h4U8D8FcaI8QPlyQE\\u0026usg\\u003dAFQjCNFRjaRysodksHBZppUHTwyjQig4iA\",\"language\":\"en\",\"image\":{\"url\":\"http://static.financialexpress.com/pic/uploadedImages/mediumImages//M_Id_470849_Narendra_Modi.jpg\",\"tbUrl\":\"http://t3.gstatic.com/images?q\\u003dtbn:ANd9GcQ0QHm54kPFwB11TsJMhDB5n-05AfKQq_pgy-hfXGTh-vQVqKX3vU692PY\",\"originalContextUrl\":\"http://www.financialexpress.com/news/live-post-victory-march-narendra-modi-arrives-at-bjp-hq-all-congress-ministers-resign/1251919\",\"publisher\":\"Financial Express\",\"tbWidth\":80,\"tbHeight\":53},\"relatedStories\":[{\"unescapedUrl\":\"http://timesofindia.indiatimes.com/Home/Lok-Sabha-Elections-2014/News/Election-results-2014-BJP-landslide-shatters-four-electoral-myths/articleshow/35228020.cms\",\"url\":\"http%3A%2F%2Ftimesofindia.indiatimes.com%2FHome%2FLok-Sabha-Elections-2014%2FNews%2FElection-results-2014-BJP-landslide-shatters-four-electoral-myths%2Farticleshow%2F35228020.cms\",\"title\":\"Election results 2014: BJP landslide shatters four electoral myths\",\"titleNoFormatting\":\"Election results 2014: BJP landslide shatters four electoral myths\",\"location\":\"\",\"publisher\":\"Times of India\",\"publishedDate\":\"Fri, 16 May 2014 16:03:45 -0700\",\"signedRedirectUrl\":\"http://news.google.com/news/url?sa\\u003dT\\u0026ct2\\u003dus\\u0026fd\\u003dS\\u0026url\\u003dhttp://timesofindia.indiatimes.com/Home/Lok-Sabha-Elections-2014/News/Election-results-2014-BJP-landslide-shatters-four-electoral-myths/articleshow/35228020.cms\\u0026cid\\u003d52778501729634\\u0026ei\\u003d_9h4U8D8FcaI8QPlyQE\\u0026usg\\u003dAFQjCNGvWdGjR-XAPCUBJKQNbjhyresgLg\",\"language\":\"en\"}]},{\"GsearchResultClass\":\"GnewsSearch\",\"clusterUrl\":\"\",\"content\":\"\\u003cb\\u003eFour ways\\u003c/b\\u003e the next government can solve the housing crisis in 100 days. Failing to address England\\u0026#39;s housing market will impede social mobility and paralyse business â€“ it\\u0026#39;s time for action. Share \\u0026middot; Tweet this. Email. Jan Crosby, KPMG. Guardian \\u003cb\\u003e...\\u003c/b\\u003e\",\"unescapedUrl\":\"http://www.theguardian.com/housing-network/2014/may/15/four-ways-next-government-solve-housing-crisis\",\"url\":\"http%3A%2F%2Fwww.theguardian.com%2Fhousing-network%2F2014%2Fmay%2F15%2Ffour-ways-next-government-solve-housing-crisis\",\"title\":\"\\u003cb\\u003eFour ways\\u003c/b\\u003e the next government can solve the housing crisis in 100 days\",\"titleNoFormatting\":\"Four ways the next government can solve the housing crisis in 100 days\",\"location\":\"\",\"publisher\":\"The Guardian\",\"publishedDate\":\"Thu, 15 May 2014 01:37:30 -0700\",\"signedRedirectUrl\":\"http://news.google.com/news/url?sa\\u003dT\\u0026ct2\\u003dus\\u0026fd\\u003dS\\u0026url\\u003dhttp://www.theguardian.com/housing-network/2014/may/15/four-ways-next-government-solve-housing-crisis\\u0026cid\\u003d0\\u0026ei\\u003d_9h4U8D8FcaI8QPlyQE\\u0026usg\\u003dAFQjCNE6CVFU1M9ZckKpd7wrYtpUwNwBkQ\",\"language\":\"en\",\"image\":{\"url\":\"http://static.guim.co.uk/sys-images/Guardian/Pix/pictures/2014/5/13/1399976203184/New-infrastructure-projec-011.jpg\",\"tbUrl\":\"http://t1.gstatic.com/images?q\\u003dtbn:ANd9GcSCHdMhTRdV2XBsL1EX0ELL47ZTCWbk6BzNU1SHwekHhGywR3jkwB8-p7xY\",\"originalContextUrl\":\"http://www.theguardian.com/housing-network/2014/may/15/four-ways-next-government-solve-housing-crisis\",\"publisher\":\"The Guardian\",\"tbWidth\":80,\"tbHeight\":48}},{\"GsearchResultClass\":\"GnewsSearch\",\"clusterUrl\":\"\",\"content\":\"Andy Wolber lists \\u003cb\\u003efour ways\\u003c/b\\u003e to find images that are free and legal to use in your business with Google Apps. Creative Commons. Image credit: Kristina Alexanderson via Flickr. Search for an image online, save it, then use it. Unfortunately, people \\u003cb\\u003e...\\u003c/b\\u003e\",\"unescapedUrl\":\"http://www.techrepublic.com/article/four-ways-to-find-free-images-to-use-legally-with-google-apps/\",\"url\":\"http%3A%2F%2Fwww.techrepublic.com%2Farticle%2Ffour-ways-to-find-free-images-to-use-legally-with-google-apps%2F\",\"title\":\"\\u003cb\\u003eFour ways\\u003c/b\\u003e to find free images to use legally with Google Apps\",\"titleNoFormatting\":\"Four ways to find free images to use legally with Google Apps\",\"location\":\"\",\"publisher\":\"TechRepublic\",\"publishedDate\":\"Thu, 15 May 2014 07:15:00 -0700\",\"signedRedirectUrl\":\"http://news.google.com/news/url?sa\\u003dT\\u0026ct2\\u003dus\\u0026fd\\u003dS\\u0026url\\u003dhttp://www.techrepublic.com/article/four-ways-to-find-free-images-to-use-legally-with-google-apps/\\u0026cid\\u003d52778503597969\\u0026ei\\u003d_9h4U8D8FcaI8QPlyQE\\u0026usg\\u003dAFQjCNE-0wgW1LKuvI0_WIRtBFCDZoiZ9w\",\"language\":\"en\"}],\"cursor\":{\"pages\":[{\"start\":\"0\",\"label\":1},{\"start\":\"4\",\"label\":2},{\"start\":\"8\",\"label\":3},{\"start\":\"12\",\"label\":4},{\"start\":\"16\",\"label\":5},{\"start\":\"20\",\"label\":6},{\"start\":\"24\",\"label\":7},{\"start\":\"28\",\"label\":8}],\"estimatedResultCount\":\"187496\",\"currentPageIndex\":0,\"moreResultsUrl\":\"http://news.google.com/nwshp?oe\\u003dutf8\\u0026ie\\u003dutf8\\u0026source\\u003duds\\u0026q\\u003dfourways\\u0026ned\\u003dza\\u0026start\\u003d0\"}}, \"responseDetails\": null, \"responseStatus\": 200}\t\t");
      _builder.newLine();
      String json = _builder.toString();
      ArrayList<NewsItem> ret = new ArrayList<NewsItem>();
      JSONObject results = new JSONObject(json);
      JSONObject _jSONObject = results.getJSONObject("responseData");
      JSONArray items = _jSONObject.getJSONArray("results");
      int _length = items.length();
      ExclusiveRange _doubleDotLessThan = new ExclusiveRange(0, _length, true);
      for (final Integer i : _doubleDotLessThan) {
        JSONObject _jSONObject_1 = items.getJSONObject((i).intValue());
        NewsItem _newsItem = new NewsItem(_jSONObject_1);
        ret.add(_newsItem);
      }
      Assert.assertNotNull(ret);
      final ArrayList<NewsItem> _converted_ret = (ArrayList<NewsItem>)ret;
      int _length_1 = ((Object[])Conversions.unwrapArray(_converted_ret, Object.class)).length;
      boolean _greaterThan = (_length_1 > 0);
      Assert.assertTrue(_greaterThan);
      NewsItem _get = ret.get(0);
      String _url = _get.getUrl();
      Assert.assertEquals("http%3A%2F%2Fwww.washingtoncitypaper.com%2Fblogs%2Fcitydesk%2F2014%2F05%2F16%2Ffour-ways-of-the-condo%2F", _url);
      NewsItem _get_1 = ret.get(0);
      String _title = _get_1.getTitle();
      Assert.assertEquals("<b>Four Ways</b> of the Condo", _title);
    } catch (Throwable _e) {
      throw Exceptions.sneakyThrow(_e);
    }
  }
}
